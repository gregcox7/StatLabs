<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Lab 3 Describing data | Labs</title>
<meta name="author" content="Greg Cox">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/ims-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Labs</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="" href="lab1.html"><span class="header-section-number">1</span> Exploring data with R</a></li>
<li><a class="" href="lab2.html"><span class="header-section-number">2</span> Sampling</a></li>
<li><a class="active" href="lab3.html"><span class="header-section-number">3</span> Describing data</a></li>
<li><a class="" href="lab4.html"><span class="header-section-number">4</span> Relationships between numerical variables</a></li>
<li><a class="" href="lab5.html"><span class="header-section-number">5</span> Hypothesis testing with randomization</a></li>
<li><a class="" href="lab6.html"><span class="header-section-number">6</span> Confidence intervals with bootstrapping</a></li>
<li><a class="" href="lab7.html"><span class="header-section-number">7</span> The normal distribution</a></li>
<li><a class="" href="lab8.html"><span class="header-section-number">8</span> Inference for proportions</a></li>
<li><a class="" href="lab9.html"><span class="header-section-number">9</span> Inference for a single mean</a></li>
<li><a class="" href="lab10.html"><span class="header-section-number">10</span> Inference for comparing two independent means</a></li>
<li><a class="" href="lab11.html"><span class="header-section-number">11</span> Inference for paired data</a></li>
<li><a class="" href="lab12.html"><span class="header-section-number">12</span> Inference for multiple independent groups</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/gregcox7/StatLabs">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="lab3" class="section level1" number="3">
<h1>
<span class="header-section-number">Lab 3</span> Describing data<a class="anchor" aria-label="anchor" href="#lab3"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="img/rats.jpg" width="100%"></div>
<p>This session is divided into two parts. In the first, we will use R to understand how two measures of <em>variability</em> work: the <strong>standard deviation</strong> and its close cousin, the <strong>variance</strong>. We will see how valuable the computer can be to quickly produce both numerical and visual summaries of data.</p>
<p>But while computers are great at mind<em>less</em> computation, that means us people have to be better at mind<em>ful</em> stuff. We need to think about what these numbers mean and why they may be important for understanding the world.</p>
<p>In the second part of the session we will analyze data from an experiment. We will use both visual and numerical summaries to help draw conclusions about what was going on in the experiment.</p>
<div id="load-the-tidyverse-library" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Load the <code>tidyverse</code> library<a class="anchor" aria-label="anchor" href="#load-the-tidyverse-library"><i class="fas fa-link"></i></a>
</h2>
<p>After starting up RStudio, we begin by making sure we’ve got the <code>tidyverse</code> package loaded from R’s library.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
<pre class="Rout text-info"><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre class="Rout text-info"><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.3     ✓ dplyr   1.0.5
## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
## ✓ readr   2.0.0     ✓ forcats 0.5.1</code></pre>
<pre class="Rout text-info"><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div id="variance-and-standard-deviation" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Variance and standard deviation<a class="anchor" aria-label="anchor" href="#variance-and-standard-deviation"><i class="fas fa-link"></i></a>
</h2>
<p>Two important and widely-used numerical summaries of variability are <strong>variance</strong> and <strong>standard deviation</strong>. Although they have two different names, they are really two ways of looking at the same thing. The standard deviation is more often used as a summary of variability, although we shall see that variance is useful for other purposes later in this course.</p>
<p>These summaries involve a somewhat long chain of calculations. It is important to see this chain to understand what these numbers are telling us. In this part of the session, we will use R to find the variance and standard deviation of some simple simulated data. First, we will follow that long chain. Then, we will see how to find these summaries more quickly and efficiently.</p>
<div id="the-big-picture" class="section level3" number="3.2.1">
<h3>
<span class="header-section-number">3.2.1</span> The big picture<a class="anchor" aria-label="anchor" href="#the-big-picture"><i class="fas fa-link"></i></a>
</h3>
<p>A good numerical summary of variability should tell us how much we would expect the observed values of a variable to differ from what is “typical.” This is what “standard deviation” means: it is a summary of the typical (“standard”) amount by which observed values of some variable tend to differ (“deviate”) from their central tendency. The variance and standard deviation are based on using the <em>mean</em> to describe central tendency.</p>
</div>
<div id="load-the-data-2" class="section level3" number="3.2.2">
<h3>
<span class="header-section-number">3.2.2</span> Load the data<a class="anchor" aria-label="anchor" href="#load-the-data-2"><i class="fas fa-link"></i></a>
</h3>
<p>To see how the variance and standard deviation are calculated, let’s create a very small fake data set, which we will creatively call <code>my_data</code>. It contains 5 observations of a single variable called “X.”</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">91</span>, <span class="fl">102</span>, <span class="fl">107</span>, <span class="fl">109</span>, <span class="fl">111</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Although these data are not real, they are similar to what one might observe in a random sample of IQ scores (which have a mean of 100 and standard deviation of 15 in the typical population).</p>
</div>
<div id="step-by-step" class="section level3" number="3.2.3">
<h3>
<span class="header-section-number">3.2.3</span> Step by step<a class="anchor" aria-label="anchor" href="#step-by-step"><i class="fas fa-link"></i></a>
</h3>
<p>We will now follow the chain of calculations, step by step, that results in finding the variance and then the standard deviation of a set of observed values like we have for the “X” variable in our simulated data.</p>
<div id="find-the-mean" class="section level4" number="3.2.3.1">
<h4>
<span class="header-section-number">3.2.3.1</span> Find the mean<a class="anchor" aria-label="anchor" href="#find-the-mean"><i class="fas fa-link"></i></a>
</h4>
<p>First, we find the mean of the observed values. R is, in many ways, a fancy calculator. So we could find the mean of the observed values on the <code>X</code> variable by plugging them into the formula for the mean that we already know:</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="fl">91</span> <span class="op">+</span> <span class="fl">102</span> <span class="op">+</span> <span class="fl">107</span> <span class="op">+</span> <span class="fl">109</span> <span class="op">+</span> <span class="fl">111</span><span class="op">)</span> <span class="op">/</span> <span class="fl">5</span></code></pre></div>
<pre class="Rout text-muted"><code>## [1] 104</code></pre>
<p>While using R as a calculator has its advantages over doing it by hand, the downside is that we still have to type/copy those numbers. Moreover, if we wanted to use the result for something else (which we will), we’d have to copy that too, and the more we do this, the greater the chances are that we make a mistake.</p>
<p>Rather than typing in the numbers manually, we could instead use R’s <code>mean</code> function within the “summarize” line we’ve used before:</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 1 × 1
##   `mean(X)`
##       &lt;dbl&gt;
## 1       104</code></pre>
<div class="exercise">
<p><span id="exr:unlabeled-div-15" class="exercise"><strong>Exercise 3.1  </strong></span>When we’ve used the “summarize” function in previous sessions, we always preceded it with a <code>group_by</code> line. Say in your own words why we didn’t use a <code>group_by</code> line to find the mean in the chunk of code we just ran.</p>
</div>
</div>
<div id="find-the-deviations-from-the-mean" class="section level4" number="3.2.3.2">
<h4>
<span class="header-section-number">3.2.3.2</span> Find the deviations from the mean<a class="anchor" aria-label="anchor" href="#find-the-deviations-from-the-mean"><i class="fas fa-link"></i></a>
</h4>
<p>The next step is to find, for each observed value in our data, its <strong>deviation</strong> from the mean. In mathematical notation, each deviation can be written as <span class="math inline">\((x_i - \bar{x})\)</span> where <span class="math inline">\(x_i\)</span> is a shorthand for each observed value and <span class="math inline">\(\bar{x}\)</span> is the mean.</p>
<p>In previous sessions, we’ve used the <code>mutate</code> line to transform counts into proportions. Now we will use it to find the deviations:</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>deviation <span class="op">=</span> <span class="va">X</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 5 × 2
##       X deviation
##   &lt;dbl&gt;     &lt;dbl&gt;
## 1    91       -13
## 2   102        -2
## 3   107         3
## 4   109         5
## 5   111         7</code></pre>
</div>
<div id="square-the-deviations" class="section level4" number="3.2.3.3">
<h4>
<span class="header-section-number">3.2.3.3</span> Square the deviations<a class="anchor" aria-label="anchor" href="#square-the-deviations"><i class="fas fa-link"></i></a>
</h4>
<p>Now that we’ve found the deviations, we square each of them, again using a <code>mutate</code> line:</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>deviation <span class="op">=</span> <span class="va">X</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>squared_deviation <span class="op">=</span> <span class="va">deviation</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 5 × 3
##       X deviation squared_deviation
##   &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt;
## 1    91       -13               169
## 2   102        -2                 4
## 3   107         3                 9
## 4   109         5                25
## 5   111         7                49</code></pre>
<p>Note that, in R, the caret symbol <code><a href="https://rdrr.io/r/base/Arithmetic.html">^</a></code> is used for exponentiation.</p>
</div>
<div id="add-up-the-squared-deviations" class="section level4" number="3.2.3.4">
<h4>
<span class="header-section-number">3.2.3.4</span> Add up the squared deviations<a class="anchor" aria-label="anchor" href="#add-up-the-squared-deviations"><i class="fas fa-link"></i></a>
</h4>
<p>Now, we add up the squared deviations using the <code>sum</code> function as part of a <code>summarize</code> line:</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>deviation <span class="op">=</span> <span class="va">X</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>squared_deviation <span class="op">=</span> <span class="va">deviation</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>sum_squared_deviation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">squared_deviation</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 1 × 1
##   sum_squared_deviation
##                   &lt;dbl&gt;
## 1                   256</code></pre>
<div class="exercise">
<p><span id="exr:unlabeled-div-16" class="exercise"><strong>Exercise 3.2  </strong></span>Modify the chunk of code we just ran to just add up the <code>deviation</code>s instead of the <code>squared_deviation</code>s. (<em>Hint:</em> think about what variable name to put inside the parentheses after “sum” on the last line.)</p>
<ol style="list-style-type: lower-alpha">
<li>What is the sum of the deviations?</li>
<li>How do you think the sum of the deviations might relate to the idea that the mean is the “balance point” of a distribution of numbers?</li>
</ol>
</div>
</div>
<div id="variance-divide-by-n---1" class="section level4" number="3.2.3.5">
<h4>
<span class="header-section-number">3.2.3.5</span> Variance: Divide by <span class="math inline">\(n - 1\)</span><a class="anchor" aria-label="anchor" href="#variance-divide-by-n---1"><i class="fas fa-link"></i></a>
</h4>
<p>The <strong>variance</strong> is the sum of squared deviations divided by <span class="math inline">\(n - 1\)</span>, where <span class="math inline">\(n\)</span> is the number of observed values, the “sample size.” To get <span class="math inline">\(n\)</span>, we can include <code>n = n()</code> in the <code>summarize</code> line and then use another <code>mutate</code> line to get the variance:</p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>deviation <span class="op">=</span> <span class="va">X</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>squared_deviation <span class="op">=</span> <span class="va">deviation</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>sum_squared_deviation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">squared_deviation</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>variance <span class="op">=</span> <span class="va">sum_squared_deviation</span> <span class="op">/</span> <span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 1 × 3
##   sum_squared_deviation     n variance
##                   &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;
## 1                   256     5       64</code></pre>
</div>
<div id="standard-deviation-take-the-square-root" class="section level4" number="3.2.3.6">
<h4>
<span class="header-section-number">3.2.3.6</span> Standard deviation: Take the square root<a class="anchor" aria-label="anchor" href="#standard-deviation-take-the-square-root"><i class="fas fa-link"></i></a>
</h4>
<p>Finally, we get the <strong>standard deviation</strong> by taking the square root of the variance, which we do with a final <code>mutate</code> line. In R, the <code>sqrt</code> function stands for <code>sq</code>uare <code>r</code>oo<code>t</code>.</p>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>deviation <span class="op">=</span> <span class="va">X</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>squared_deviation <span class="op">=</span> <span class="va">deviation</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>sum_squared_deviation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">squared_deviation</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>variance <span class="op">=</span> <span class="va">sum_squared_deviation</span> <span class="op">/</span> <span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>standard_deviation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">variance</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 1 × 4
##   sum_squared_deviation     n variance standard_deviation
##                   &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt;              &lt;dbl&gt;
## 1                   256     5       64                  8</code></pre>
</div>
</div>
<div id="all-at-once" class="section level3" number="3.2.4">
<h3>
<span class="header-section-number">3.2.4</span> All at once<a class="anchor" aria-label="anchor" href="#all-at-once"><i class="fas fa-link"></i></a>
</h3>
<p>We just saw the complete chain of calculations involved in finding the variance and then the standard deviation. But as you might have guessed from the fact that R has a <code>mean</code> function, it also has functions that directly calculate variances and standard deviations. These functions are called <code>var</code> and <code>sd</code>, respectively, and we can use them in a <code>summary</code> line, like so:</p>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>, variance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">var</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>, standard_deviation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 1 × 3
##    mean variance standard_deviation
##   &lt;dbl&gt;    &lt;dbl&gt;              &lt;dbl&gt;
## 1   104       64                  8</code></pre>
<p>The code we just ran is much more compact, readable, and less liable to lead to any typos, so naturally we will use the built-in <code>var</code> and <code>sd</code> functions pretty often!</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-17" class="exercise"><strong>Exercise 3.3  </strong></span>Take a look at how we used the <code>mutate</code> and <code>summarize</code> lines when we were calculating the variance and standard deviation step-by-step. In your own words, describe a basic difference between what a <code>mutate</code> line is used for and what a <code>summarize</code> line is used for.</p>
<p><em>Hint:</em> Think about the result we got after adding either a <code>mutate</code> or <code>summarize</code> line and how it affected the number of rows and/or columns in the result.</p>
</div>
</div>
</div>
<div id="diet-and-lifespan" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Diet and Lifespan<a class="anchor" aria-label="anchor" href="#diet-and-lifespan"><i class="fas fa-link"></i></a>
</h2>
<p>Having seen how to use R to calculate numerical summaries of central tendency and variability, let’s see how they operate in real data. The data we will be looking at come from a study by <span class="citation"><a href="references.html#ref-YuEtAl1982" role="doc-biblioref">Yu et al.</a> (<a href="references.html#ref-YuEtAl1982" role="doc-biblioref">1982</a>)</span>. They studied the lifespan of a sample of rats which were randomly assigned to one of two different diets: One group of rats was allowed to eat freely, however they wanted; another group was fed on a restricted diet with only about 60% of the calories that the free-eating rats had.</p>
<div id="load-the-data-3" class="section level3" number="3.3.1">
<h3>
<span class="header-section-number">3.3.1</span> Load the data<a class="anchor" aria-label="anchor" href="#load-the-data-3"><i class="fas fa-link"></i></a>
</h3>
<p>First, we need to get this data into R. The following code will download and import the data into your current R session:</p>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rats</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">'https://raw.githubusercontent.com/gregcox7/StatLabs/main/data/ratlives.csv'</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-info"><code>## Rows: 195 Columns: 2</code></pre>
<pre class="Rout text-info"><code>## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: ","
## chr (1): Diet
## dbl (1): Lifespan</code></pre>
<pre class="Rout text-info"><code>## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>In your “Environment” panel in the upper right, you’ll see a new entry called “rats.” This is the data we just imported. Click on it to have a look at the data, which will appear in the upper left. There are just two variables in this dataset, <strong>Diet</strong> and <strong>Lifespan</strong> (measured in days). Diet is the explanatory variable and Lifespan is the response variable.</p>
</div>
<div id="summarizing-the-data-visually" class="section level3" number="3.3.2">
<h3>
<span class="header-section-number">3.3.2</span> Summarizing the data visually<a class="anchor" aria-label="anchor" href="#summarizing-the-data-visually"><i class="fas fa-link"></i></a>
</h3>
<p>Although numerical summaries are useful, they should always be accompanied by visual summaries in order to get a more complete understanding of the data.</p>
<div id="histograms-1" class="section level4" number="3.3.2.1">
<h4>
<span class="header-section-number">3.3.2.1</span> Histograms<a class="anchor" aria-label="anchor" href="#histograms-1"><i class="fas fa-link"></i></a>
</h4>
<p>Let’s make a facetted histogram that shows the distribution of lifespans of the rats under each diet. We will use an option under <code>facet_wrap</code> that lets us set the <code>n</code>umber of <code>col</code>umns (<code>ncol</code>) so we can see the facets stacked atop one another.</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rats</span> <span class="op">%&gt;%</span>
    <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">Lifespan</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">geom_histogram</span><span class="op">(</span>binwidth<span class="op">=</span><span class="fl">90</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">facet_wrap</span><span class="op">(</span><span class="st">"Diet"</span>, ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="03-describing_files/figure-html/unnamed-chunk-13-1.png" width="672"></div>
<div class="exercise">
<p><span id="exr:unlabeled-div-18" class="exercise"><strong>Exercise 3.4  </strong></span>First, let’s describe what we can see from the histograms (you may also try out other bin widths for the histograms as you like).</p>
<ol style="list-style-type: lower-alpha">
<li>Describe the shape of the two distributions. Be sure to note the number of <em>modes</em>, any <em>skewness</em>, and whether there may be any <em>outliers</em> in either group.</li>
<li>Compare the two distributions. Be sure to note whether there seem to be any differences in <em>central tendency</em> or <em>variability</em> between the two groups.</li>
</ol>
</div>
</div>
<div id="boxplots" class="section level4" number="3.3.2.2">
<h4>
<span class="header-section-number">3.3.2.2</span> Boxplots<a class="anchor" aria-label="anchor" href="#boxplots"><i class="fas fa-link"></i></a>
</h4>
<p>We’ve also seen some examples of <strong>boxplots</strong> as useful visual summaries of data. The “box” of the boxplot encloses the “inter-quartile range” (IQR), that is, the middle 50% of the data that falls between the 25th and 75th percentiles. The line in the middle of the box shows where the median is. Boxplots are easy to produce in R by using <code>geom_boxplot</code> instead of <code>geom_histogram</code>:</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rats</span> <span class="op">%&gt;%</span>
    <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">Lifespan</span>, y<span class="op">=</span><span class="va">Diet</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="03-describing_files/figure-html/unnamed-chunk-14-1.png" width="672"></div>
<div class="exercise">
<p><span id="exr:unlabeled-div-19" class="exercise"><strong>Exercise 3.5  </strong></span>Compare the boxplots and histograms we just made.</p>
<ol style="list-style-type: lower-alpha">
<li>What sorts of things seem easier to do with the boxplots as opposed to histograms? Think about what features of the data might be easier to see with a boxplot and what comparisons might be easier to make using a boxplot.</li>
<li>Do you lose anything by using a boxplot instead of a histogram? Are there any important features of the data that are harder to see in the boxplot?</li>
</ol>
</div>
</div>
</div>
<div id="summarizing-the-data-numerically" class="section level3" number="3.3.3">
<h3>
<span class="header-section-number">3.3.3</span> Summarizing the data numerically<a class="anchor" aria-label="anchor" href="#summarizing-the-data-numerically"><i class="fas fa-link"></i></a>
</h3>
<p>Finally, let’s use R to get a numerical summary of the lifespans of the rats under the two diets. In the first part of the session, we focused on the <em>mean</em> and <em>standard deviation</em> (and <em>variance</em>), but we have also seen that the <em>median</em> and <em>inter-quartile range</em> (IQR) can also be used as numerical summaries of central tendency and variability.</p>
<p>R can find the median and IQR for us:</p>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rats</span> <span class="op">%&gt;%</span>
    <span class="fu">group_by</span><span class="op">(</span><span class="va">Diet</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>Median <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">Lifespan</span><span class="op">)</span>, IQR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/IQR.html">IQR</a></span><span class="op">(</span><span class="va">Lifespan</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 2 × 3
##   Diet       Median   IQR
##   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;
## 1 Free         710   116 
## 2 Restricted  1036.  300.</code></pre>
<div class="exercise">
<p><span id="exr:unlabeled-div-20" class="exercise"><strong>Exercise 3.6  </strong></span>Fill in the blanks in the following chunk of code to find the mean and standard deviation of the lifespans of the rats under each diet. <em>Hint:</em> recall the names of the functions we used to find these quantities earlier.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="lab3.html#cb95-1" aria-hidden="true" tabindex="-1"></a>___ <span class="sc">%&gt;%</span></span>
<span id="cb95-2"><a href="lab3.html#cb95-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(___) <span class="sc">%&gt;%</span></span>
<span id="cb95-3"><a href="lab3.html#cb95-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">___</span>(<span class="at">Mean =</span> ___, <span class="at">SD =</span> ___)</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>What code did you use?</li>
<li>Compare the means and standard deviations for each group of rats to the histograms we made earlier. How are the differences in mean lifespan between groups reflected in the two histograms? How are the differences in the standard deviation of lifespan reflected in the two histograms?</li>
</ol>
</div>
<p>These numerical summaries of central tendency and variability provide a concise description of the lifespans of rats under the two different diets. These descriptions help us address the <strong>research question</strong>: does a restricted diet have an effect on lifespan?</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-21" class="exercise"><strong>Exercise 3.7  </strong></span>Based on the visual and numerical summaries we have made, let us draw some conclusions about that research question.</p>
<ol style="list-style-type: lower-alpha">
<li>Briefly describe the differences in lifespans between rats under a restricted diet versus rats with a free diet.</li>
<li>Based on the design of the study, can we conclude that the differences in diet probably played a role in <em>causing</em> the observed differences in lifespan in this sample? Why or why not?</li>
<li>What is the population to which you think we could <em>generalize</em> these results?</li>
</ol>
</div>
</div>
</div>
<div id="wrap-up-2" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> Wrap-up<a class="anchor" aria-label="anchor" href="#wrap-up-2"><i class="fas fa-link"></i></a>
</h2>
<p>In this session, we saw how to find two important numerical summaries of variability: <strong>variance</strong> and <strong>standard deviation</strong>. We analyzed data from an experiment studying the relationship between diet and lifespan in a sample of rats, using both visual and numerical summaries to get a more complete picture of the relationships between explanatory and response variables.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="lab2.html"><span class="header-section-number">2</span> Sampling</a></div>
<div class="next"><a href="lab4.html"><span class="header-section-number">4</span> Relationships between numerical variables</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#lab3"><span class="header-section-number">3</span> Describing data</a></li>
<li><a class="nav-link" href="#load-the-tidyverse-library"><span class="header-section-number">3.1</span> Load the tidyverse library</a></li>
<li>
<a class="nav-link" href="#variance-and-standard-deviation"><span class="header-section-number">3.2</span> Variance and standard deviation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#the-big-picture"><span class="header-section-number">3.2.1</span> The big picture</a></li>
<li><a class="nav-link" href="#load-the-data-2"><span class="header-section-number">3.2.2</span> Load the data</a></li>
<li><a class="nav-link" href="#step-by-step"><span class="header-section-number">3.2.3</span> Step by step</a></li>
<li><a class="nav-link" href="#all-at-once"><span class="header-section-number">3.2.4</span> All at once</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#diet-and-lifespan"><span class="header-section-number">3.3</span> Diet and Lifespan</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#load-the-data-3"><span class="header-section-number">3.3.1</span> Load the data</a></li>
<li><a class="nav-link" href="#summarizing-the-data-visually"><span class="header-section-number">3.3.2</span> Summarizing the data visually</a></li>
<li><a class="nav-link" href="#summarizing-the-data-numerically"><span class="header-section-number">3.3.3</span> Summarizing the data numerically</a></li>
</ul>
</li>
<li><a class="nav-link" href="#wrap-up-2"><span class="header-section-number">3.4</span> Wrap-up</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/gregcox7/StatLabs/blob/master/03-describing.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/gregcox7/StatLabs/edit/master/03-describing.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Labs</strong>" was written by Greg Cox. It was last built on 2022-04-17.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
