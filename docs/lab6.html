<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Lab 6 Confidence intervals with bootstrapping | Labs</title>
<meta name="author" content="Greg Cox">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.14/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/ims-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Labs</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="" href="lab1.html"><span class="header-section-number">1</span> Exploring Data with R</a></li>
<li><a class="" href="lab2.html"><span class="header-section-number">2</span> Sampling</a></li>
<li><a class="" href="lab3.html"><span class="header-section-number">3</span> Describing data</a></li>
<li><a class="" href="lab4.html"><span class="header-section-number">4</span> Relationships between numerical variables</a></li>
<li><a class="" href="lab5.html"><span class="header-section-number">5</span> Hypothesis testing with randomization</a></li>
<li><a class="active" href="lab6.html"><span class="header-section-number">6</span> Confidence intervals with bootstrapping</a></li>
<li><a class="" href="lab7.html"><span class="header-section-number">7</span> The normal distribution</a></li>
<li><a class="" href="lab8.html"><span class="header-section-number">8</span> Inference for proportions</a></li>
<li><a class="" href="lab9.html"><span class="header-section-number">9</span> Inference about a mean</a></li>
<li><a class="" href="lab10.html"><span class="header-section-number">10</span> Inference for comparing two independent means</a></li>
<li><a class="" href="lab11.html"><span class="header-section-number">11</span> Inference for multiple independent groups</a></li>
<li><a class="" href="lab12.html"><span class="header-section-number">12</span> Explaining data with R</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/gregcox7/StatLabs">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="lab6" class="section level1" number="6">
<h1>
<span class="header-section-number">Lab 6</span> Confidence intervals with bootstrapping<a class="anchor" aria-label="anchor" href="#lab6"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="img/milgram.png" width="100%"></div>
<p>In this session, we will get practice using R to find confidence intervals via bootstrapping. As with our initial exposure to hypothesis testing in the previous session, this is meant as a “first contact” with the basics of the techniques. In the first part, we will revisit the Kobe data to get a view of how resampling works, since this is the heart of the bootstrapping technique. In the second part, we will use bootstrapping to create confidence intervals representing people’s tendencies when making moral decisions.</p>
<p>It is important to keep in mind that both hypothesis testing and confidence intervals involve <em>imagining how things could have turned out differently</em>. Hypothesis testing is about imagining the ways a comparison between two groups could have turned out differently <em>if the null hypothesis (of no group difference) were true</em>. Confidence intervals are about imagining the other ways a sample could look <em>if our current sample is representative of that population</em>. As with hypothesis testing, we use simulation to help us imagine these different possible outcomes. The ultimate purpose in constructing a confidence interval by simulation is to express what values of a population parameter are “plausible” in light of the sample we got.</p>
<p>To help with the later exercises in this session, be sure to <strong>download the worksheet for this session</strong> by right-clicking on the following link and selecting “Save link as…”: <a href="https://raw.githubusercontent.com/gregcox7/StatLabs/main/worksheets/ws_lab06.Rmd">Worksheet for Lab 6</a>. Open the saved file (which by default is called “ws_lab06.Rmd”) in RStudio.</p>
<div id="what-is-kobes-field-goal-percentage" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> What is Kobe’s field goal percentage?<a class="anchor" aria-label="anchor" href="#what-is-kobes-field-goal-percentage"><i class="fas fa-link"></i></a>
</h2>
<p>Last time, we asked whether Kobe Bryant had a “hot hand” during the 2009 NBA finals. We used randomization to test the null hypothesis that Kobe’s chance of making a hit was the same regardless of whether his previous shot was a hit or not.</p>
<p>This time we are just interested in what proportion of Kobe’s shots actually make it in the basket. The traditional basketball term for this is Kobe’s “field goal percentage”. This constitutes a <strong>population parameter</strong> that we could label mathematically as <span class="math inline">\(\pi_{\text{Kobe}}\)</span>. The “population” here is all the shots Kobe ever attempted across his career. The sample are the shots Kobe attempted during the 2009 NBA finals. The sample yields a <strong>point estimate</strong> <span class="math inline">\(\hat{p}_{\text{Kobe}}\)</span> of the population parameter <span class="math inline">\(\pi_{\text{Kobe}}\)</span>.</p>
<div id="what-is-the-point-estimate" class="section level3" number="6.1.1">
<h3>
<span class="header-section-number">6.1.1</span> What is the point estimate?<a class="anchor" aria-label="anchor" href="#what-is-the-point-estimate"><i class="fas fa-link"></i></a>
</h3>
<p>What we are interested in this time is just the proportion of Kobe’s shots that were hits rather than misses. For today, we don’t care what the outcome of his previous shot was.</p>
<p>To get the point estimate of the proportion of Kobe’s shots that were hits rather than misses, we can use the following chunk of code:</p>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span>response <span class="op">=</span> <span class="va">shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"prop"</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## Response: shot (factor)
## # A tibble: 1 × 1
##    stat
##   &lt;dbl&gt;
## 1 0.387</code></pre>
<div class="exercise">
<p><span id="exr:unlabeled-div-30" class="exercise"><strong>Exercise 6.1  </strong></span>As a reminder, this is the chunk of code we used to find the observed <em>difference</em> in hit proportions last time, as a function of whether Kobe’s previous shot was a hit or not:</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"diff in props"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"prev_H"</span>, <span class="st">"prev_M"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Why do we <em>not</em> need to mention <code>prev_shot</code> when calculating the proportion of Kobe’s hits?</li>
<li>Why do we <em>not</em> need to set <code>order</code> when calculating the proportion of Kobe’s hits?</li>
</ol>
</div>
</div>
<div id="model-the-randomness" class="section level3" number="6.1.2">
<h3>
<span class="header-section-number">6.1.2</span> Model the randomness<a class="anchor" aria-label="anchor" href="#model-the-randomness"><i class="fas fa-link"></i></a>
</h3>
<p>Although our sample gives us a point estimate (<span class="math inline">\(\hat{p}_{\text{Kobe}}\)</span>) of Kobe’s true field goal percentage (<span class="math inline">\(\pi_{\text{Kobe}}\)</span>), we know that our point estimate is unlikely to be a perfect estimate. This is because we know that any sample from a population is subject to <strong>sampling variability</strong> which can be treated as effectively “random”. A confidence interval is based on modeling the sampling variability that produced the actual sample we got, so we can know what <em>range</em> of values for the population parameter remain plausible.</p>
<p><strong>Bootstrapping</strong> models this randomness by using our sample as an estimate of the population and repeatedly <em>resampling</em> from that estimated population. Let’s see how that works.</p>
<div id="a-single-resample" class="section level4" number="6.1.2.1">
<h4>
<span class="header-section-number">6.1.2.1</span> A single resample<a class="anchor" aria-label="anchor" href="#a-single-resample"><i class="fas fa-link"></i></a>
</h4>
<p>As we’ve seen, “resampling” treats the original data as if it were a whole population. By <em>sampling with replacement</em> from that imaginary population, we can simulate what a new sample from that same population might look like. The following chunk of code resamples from Kobe’s shots to produce a new sample of shots:</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span>response <span class="op">=</span> <span class="va">shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">generate</span><span class="op">(</span>reps <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"bootstrap"</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## Response: shot (factor)
## # A tibble: 111 × 2
## # Groups:   replicate [1]
##    replicate shot 
##        &lt;int&gt; &lt;fct&gt;
##  1         1 M    
##  2         1 M    
##  3         1 H    
##  4         1 M    
##  5         1 M    
##  6         1 M    
##  7         1 H    
##  8         1 M    
##  9         1 M    
## 10         1 M    
## # … with 101 more rows</code></pre>
<div class="exercise">
<p><span id="exr:unlabeled-div-31" class="exercise"><strong>Exercise 6.2  </strong></span>The chunk of code below is what we used last time to generate a single “shuffle” of these same shots:</p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">hypothesize</span><span class="op">(</span>null <span class="op">=</span> <span class="st">"independence"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">generate</span><span class="op">(</span>reps <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"permute"</span><span class="op">)</span></code></pre></div>
<p>In your own words, explain why do we <em>not</em> need to include a <code>hypothesize</code> line when doing bootstrapping, like we did when using permutation to test a null hypothesis?</p>
</div>
<p>The final step in doing bootstrapping is to calculate the sample statistic—in this case, the proportion of hits—on our randomly generated re-sample. We can do this by adding a <code>calculate</code> line at the end of the code we used to make the resample:</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span>response <span class="op">=</span> <span class="va">shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">generate</span><span class="op">(</span>reps <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"bootstrap"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"prop"</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## Response: shot (factor)
## # A tibble: 1 × 1
##    stat
##   &lt;dbl&gt;
## 1 0.342</code></pre>
</div>
<div id="many-resamples" class="section level4" number="6.1.2.2">
<h4>
<span class="header-section-number">6.1.2.2</span> Many resamples<a class="anchor" aria-label="anchor" href="#many-resamples"><i class="fas fa-link"></i></a>
</h4>
<p>The whole point of bootstrapping is to get a <em>range</em> of plausible values and so we will need more than one resample! And like last time, we will want to get R to remember the proportions from each resample so we can use them later; we will call it <code>kobe_boot_dist</code>.</p>
<p>The following chunk of code uses bootstrapping to produce a distribution of sample proportions, the variability of which mimics the sampling variability that was at work when generating our original observed sample:</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_boot_dist</span> <span class="op">&lt;-</span> <span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span>response <span class="op">=</span> <span class="va">shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">generate</span><span class="op">(</span>reps <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"bootstrap"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"prop"</span><span class="op">)</span></code></pre></div>
<p>And like last time, we can use a histogram to get a nice visual summary of the bootstrap distribution:</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_boot_dist</span> <span class="op">%&gt;%</span>
    <span class="fu">visualize</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-bootstrapping_files/figure-html/unnamed-chunk-8-1.png" width="672"></div>
</div>
</div>
<div id="create-the-interval" class="section level3" number="6.1.3">
<h3>
<span class="header-section-number">6.1.3</span> Create the interval<a class="anchor" aria-label="anchor" href="#create-the-interval"><i class="fas fa-link"></i></a>
</h3>
<p>To find a confidence interval, we need to find the “middle” of the bootstrap distribution. We also need to decide how wide that “middle” should be. For example, to create a 95% confidence interval, we need to find where the middle 95% of the distribution is.</p>
<p>The middle 95% is between two different <em>quantiles</em> of the bootstrap distribution. Specifically, the 2.5% and 97.5% quantiles define the boundaries of the 95% confidence interval. This is because they are the values for which 2.5% of the simulated proportions are below the interval and 2.5% of the simulated proportions are above the interval. So, in total, 5% of the values are outside the interval meaning the remainder (95%) are inside it.</p>
<p>As with many things, R has some shortcuts! The following code finds the 95% confidence interval, where we use <code>level</code> to set how wide we want the interval. Note that we are putting the result under the label <code>kobe_boot_ci</code> so we can use it to help us visualize the interval:</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_boot_ci</span> <span class="op">&lt;-</span> <span class="va">kobe_boot_dist</span> <span class="op">%&gt;%</span>
    <span class="fu">get_confidence_interval</span><span class="op">(</span>level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></code></pre></div>
<p>Now we can add the 95% confidence interval that we saved under <code>kobe_boot_ci</code> to our visualization:</p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_boot_dist</span> <span class="op">%&gt;%</span>
    <span class="fu">visualize</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">shade_confidence_interval</span><span class="op">(</span>endpoints <span class="op">=</span> <span class="va">kobe_boot_ci</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-bootstrapping_files/figure-html/unnamed-chunk-10-1.png" width="672"></div>
</div>
<div id="form-a-conclusion-2" class="section level3" number="6.1.4">
<h3>
<span class="header-section-number">6.1.4</span> Form a conclusion<a class="anchor" aria-label="anchor" href="#form-a-conclusion-2"><i class="fas fa-link"></i></a>
</h3>
<p>Now we are in a position to form a conclusion about Kobe’s true field goal percentage based on the sample that we had.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-32" class="exercise"><strong>Exercise 6.3  </strong></span>Answer the following based on the 95% confidence interval we just constructed for Kobe’s field goal percentage. (<em>Hint:</em> the visualization alone is enough to answer these questions.)</p>
<ol style="list-style-type: lower-alpha">
<li>Is it plausible that Kobe makes more than half of the shots he attempts? Explain your reasoning.</li>
<li>Kobe’s actual career field goal percentage was 44.7%. In other words, the true value of the population parameter was <span class="math inline">\(\pi_{\text{Kobe}} = 0.447\)</span>. Based on the 95% CI, are you surprised by this? Explain your reasoning.</li>
</ol>
</div>
</div>
</div>
<div id="how-willing-are-people-to-obey-commands-that-endanger-someones-life" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> How willing are people to obey commands that endanger someone’s life?<a class="anchor" aria-label="anchor" href="#how-willing-are-people-to-obey-commands-that-endanger-someones-life"><i class="fas fa-link"></i></a>
</h2>
<p>Stanley Milgram conducted a now (in)famous experiment in 1963 into the nature of obedience. The experiment was part of a line of research motivated by the experiences of the Holocaust. During the Holocaust, which began during the 1930s and continued until the end of the second world war in 1945, Nazi Germany and its allies engaged in the systematic extermination of millions of people from a variety of ethnic, cultural, and sexual minorities. A vast bureaucracy was set up to coordinate murder on such a massive scale. As <span class="citation">Milgram (<a href="references.html#ref-Milgram1963" role="doc-biblioref">1963</a>)</span> said,</p>
<blockquote>
<p>Gas chambers were built, death camps were guarded, daily quotas of corpses were produced with the same efficiency as the manufacture of appliances. These inhumane policies may have originated in the mind of a single person, but they could only be carried out on a massive scale if a very large number of persons obeyed orders.</p>
</blockquote>
<p>The question that laid heavy on Milgram’s mind, as well as those of his contemporaries, was why so many otherwise ordinary people would participate in murdering people who, in other circumstances, might have been their neighbors. Milgram’s experiment focused on one potential explanation: that people may have a strong tendency to <em>obey</em> authority figures, even when doing so violates their own personal morality.</p>
<p><span class="citation">Milgram (<a href="references.html#ref-Milgram1963" role="doc-biblioref">1963</a>)</span> studied this using an experiment in which a participant, which he calls a “naive subject” (“naive” here means “not aware of the purpose of the experiment”) is ordered “to administer electric shock to a victim.” He describes the experimental setup:</p>
<blockquote>
<p>A simulated shock generator is used, with 30 clearly marked voltage levels that range from 15 to 450 volts. The instrument bears verbal designations that range from Slight Shock to Danger: Severe Shock. The responses of the victim, who is a trained confederate of the experimenter, are standardized. The orders to administer shocks are given to the naive subject in the context of a “learning experiment” ostensibly set up to study the effects of punishment on memory. As the experiment proceeds the naive subject is commanded to administer increasingly more intense shocks to the victim, even to the point of reaching the level marked Danger: Severe Shock.</p>
</blockquote>
<p>The setup of the experiment is shown as the title image for today’s session, where “T” is the participant, “E” is the Experimenter, and “L” is the “victim” who is supposedly being shocked.</p>
<p>For this session, we will examine data from one of Milgram’s original experiments as well as a more recent <em>replication</em> of the experiment. In both cases, the <strong>response variable</strong> is whether or not a participant continued to obey commands to shock the “victim” past the “danger” mark.</p>
<div id="milgrams-original-study" class="section level3" number="6.2.1">
<h3>
<span class="header-section-number">6.2.1</span> Milgram’s original study<a class="anchor" aria-label="anchor" href="#milgrams-original-study"><i class="fas fa-link"></i></a>
</h3>
<p>The data from Milgram’s original study are loaded into R’s environment under the name <code>milgram</code>.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-33" class="exercise"><strong>Exercise 6.4  </strong></span>Use the chunk of code below to generate 1000 simulated datasets based on Milgram’s study and visualize the 95% confidence interval.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="lab6.html#cb142-1" aria-hidden="true" tabindex="-1"></a>milgram_boot_dist <span class="ot">&lt;-</span> ___ <span class="sc">%&gt;%</span></span>
<span id="cb142-2"><a href="lab6.html#cb142-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(<span class="at">response =</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb142-3"><a href="lab6.html#cb142-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">generate</span>(<span class="at">reps =</span> ___, <span class="at">type =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb142-4"><a href="lab6.html#cb142-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>)</span>
<span id="cb142-5"><a href="lab6.html#cb142-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-6"><a href="lab6.html#cb142-6" aria-hidden="true" tabindex="-1"></a>milgram_ci <span class="ot">&lt;-</span> milgram_boot_dist <span class="sc">%&gt;%</span></span>
<span id="cb142-7"><a href="lab6.html#cb142-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_confidence_interval</span>(<span class="at">level =</span> ___)</span>
<span id="cb142-8"><a href="lab6.html#cb142-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-9"><a href="lab6.html#cb142-9" aria-hidden="true" tabindex="-1"></a>milgram_boot_dist <span class="sc">%&gt;%</span></span>
<span id="cb142-10"><a href="lab6.html#cb142-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visualize</span>() <span class="sc">+</span></span>
<span id="cb142-11"><a href="lab6.html#cb142-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">shade_confidence_interval</span>(<span class="at">endpoints =</span> milgram_ci)</span></code></pre></div>
<p>Based on the confidence interval you found (you can see the exact numbers if you click on <code>milgram_ci</code> in R’s <strong>Environment</strong> window after running your code), what can you say about the proportion of people in general who would be willing to risk someone’s life out of obedience?</p>
</div>
</div>
<div id="a-more-recent-replication" class="section level3" number="6.2.2">
<h3>
<span class="header-section-number">6.2.2</span> A more recent replication<a class="anchor" aria-label="anchor" href="#a-more-recent-replication"><i class="fas fa-link"></i></a>
</h3>
<p>It is reasonable to believe that societal attitudes toward authority have changed since the 1960’s. One reason for this shift in attitudes is that people became aware of Milgram’s work. As such, it would be interesting to <em>replicate</em> Milgram’s experiment to see whether this shift in attitudes has reduced the proportion of people who would continue to obey.</p>
<p>The participants in Milgram’s experiments—i.e., the people commanded to issue shocks, not the actor who played the “victim”—experienced considerable stress. For example, <span class="citation">Milgram (<a href="references.html#ref-Milgram1963" role="doc-biblioref">1963</a>)</span> says that, “[f]ull-blown, uncontrollable seizures were observed for 3 subjects. On one occasion we observed a seizure so violently convulsive that it was necessary to call a halt to the experiment.” Despite these horrible reactions, these participants still obeyed the command to increase the level of shock.</p>
<p>Because of the horrific effects on the participants, it would be impossible to replicate Milgram’s procedure exactly in an ethical way. <span class="citation">Burger (<a href="references.html#ref-Burger2009" role="doc-biblioref">2009</a>)</span> got as close as one could get. First, Burger screened his participants beforehand to ensure that they did not have risk factors that would lead to the kind of extreme reactions described above. Second, although Burger’s fake electric shock machine looked the same as Milgram’s, the experiment would stop before reaching any dangerous setting. Even if a participant obeyed the command to increase the voltage past a certain point, the experiment would stop before any “shock” was applied. As a result, participants never thought that they were inflicting any more than mild discomfort. Even so, Burger’s experiment allows us to measure whether someone was <em>willing</em> to continue the shocks.</p>
<p>The data from Burger’s replication is loaded into R under the name <code>milgram_replication</code>.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-34" class="exercise"><strong>Exercise 6.5  </strong></span>Fill in the blanks in the following chunk to calculate the proportion of participants in Burger’s replication who continue to obey the experimenter.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="lab6.html#cb143-1" aria-hidden="true" tabindex="-1"></a>milgram_replication <span class="sc">%&gt;%</span></span>
<span id="cb143-2"><a href="lab6.html#cb143-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(<span class="at">response =</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb143-3"><a href="lab6.html#cb143-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>)</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Does this proportion fall inside or outside the 95% confidence interval you found for Milgram’s original experiment (in the previous exercise)?</li>
<li>What does your answer to part [a] suggest about whether attitudes toward obedience have changed between 1963 and 2009? Explain your reasoning.</li>
</ol>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-35" class="exercise"><strong>Exercise 6.6  </strong></span>Fill in the blanks in the chunk of code to repeat the analysis you performed on Milgram’s original data (called <code>milgram</code>) with the more recent replication (called <code>milgram_replication</code>). <em>Hint:</em> As usual, you will be able to re-use a lot of code!</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="lab6.html#cb144-1" aria-hidden="true" tabindex="-1"></a>milgram_replication_boot_dist <span class="ot">&lt;-</span> ___ <span class="sc">%&gt;%</span></span>
<span id="cb144-2"><a href="lab6.html#cb144-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(<span class="at">response =</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb144-3"><a href="lab6.html#cb144-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">generate</span>(<span class="at">reps =</span> ___, <span class="at">type =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb144-4"><a href="lab6.html#cb144-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>)</span>
<span id="cb144-5"><a href="lab6.html#cb144-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-6"><a href="lab6.html#cb144-6" aria-hidden="true" tabindex="-1"></a>milgram_replication_ci <span class="ot">&lt;-</span> milgram_replication_boot_dist <span class="sc">%&gt;%</span></span>
<span id="cb144-7"><a href="lab6.html#cb144-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_confidence_interval</span>(<span class="at">level =</span> ___)</span>
<span id="cb144-8"><a href="lab6.html#cb144-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-9"><a href="lab6.html#cb144-9" aria-hidden="true" tabindex="-1"></a>milgram_replication_boot_dist <span class="sc">%&gt;%</span></span>
<span id="cb144-10"><a href="lab6.html#cb144-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visualize</span>() <span class="sc">+</span></span>
<span id="cb144-11"><a href="lab6.html#cb144-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">shade_confidence_interval</span>(<span class="at">endpoints =</span> milgram_replication_ci)</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>What is the 95% confidence interval you found? (You can see the raw numbers by clicking on <code>milgram_replication_ci</code> after running your code.)</li>
<li>This is how Milgram described his sample: <em>“The subjects were 40 males between the ages of 20 and 50, drawn from New Haven [Connecticut] and the surrounding communities…subjects were postal clerks, high school teachers, salesmen, engineers, and laborers. Subjects ranged in educational level from one who had not finished elementary school, to those who had doctorate and other professional degrees.”</em> Burger’s sample also includes a range of educational experiences, but is comprised of 18 men and 22 women who range in age between 20 and 81 years old. Do you think the 95% CI from Milgram’s original study or the one from Burger’s replication gives a better description of where the true population proportion probably is? Explain your reasoning.</li>
</ol>
</div>
</div>
<div id="do-men-and-women-differ-in-their-proportions-of-obedience" class="section level3" number="6.2.3">
<h3>
<span class="header-section-number">6.2.3</span> Do men and women differ in their proportions of obedience?<a class="anchor" aria-label="anchor" href="#do-men-and-women-differ-in-their-proportions-of-obedience"><i class="fas fa-link"></i></a>
</h3>
<p>A major difference between Milgram’s original study and Burger’s replication is that Burger’s sample contains both men and women. This allows us to address a <strong>research question</strong>: <em>Do men and women differ in their tendency toward obedience in this situation?</em></p>
<div class="exercise">
<p><span id="exr:unlabeled-div-36" class="exercise"><strong>Exercise 6.7  </strong></span>Fill in the blanks in the code below to use random permutation to test the <em>null hypothesis</em> that men and women <em>do not differ</em> in the proportion who obey.</p>
<ul>
<li>For the <code>specify</code> lines: The <strong>response variable</strong> is still <code>obeyed</code>, but now we have an <strong>explanatory variable</strong> which is labeled <code>gender</code>.</li>
<li>For the blanks in the <code>hypothesize</code>, <code>generate</code>, and <code>calculate</code> lines: look up how we set those in the previous activity.</li>
<li>For the <code>direction</code> lines: There are three possible settings: <code>direction = "less"</code>, <code>direction = "greater"</code>, or <code>direction = "two-sided"</code>. Set it to the <code>direction</code> in which results would be considered “extreme” if the null hypothesis were true.</li>
</ul>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="lab6.html#cb145-1" aria-hidden="true" tabindex="-1"></a>milgram_replication_null_dist <span class="ot">&lt;-</span> milgram_replication <span class="sc">%&gt;%</span></span>
<span id="cb145-2"><a href="lab6.html#cb145-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"Yes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb145-3"><a href="lab6.html#cb145-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb145-4"><a href="lab6.html#cb145-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">1000</span>, <span class="at">type =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb145-5"><a href="lab6.html#cb145-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>))</span>
<span id="cb145-6"><a href="lab6.html#cb145-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-7"><a href="lab6.html#cb145-7" aria-hidden="true" tabindex="-1"></a>milgram_replication_obs_diff <span class="ot">&lt;-</span> milgram_replication <span class="sc">%&gt;%</span></span>
<span id="cb145-8"><a href="lab6.html#cb145-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"Yes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb145-9"><a href="lab6.html#cb145-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>))</span>
<span id="cb145-10"><a href="lab6.html#cb145-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-11"><a href="lab6.html#cb145-11" aria-hidden="true" tabindex="-1"></a>milgram_replication_p_value <span class="ot">&lt;-</span> milgram_replication_null_dist <span class="sc">%&gt;%</span></span>
<span id="cb145-12"><a href="lab6.html#cb145-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_p_value</span>(<span class="at">obs_stat =</span> milgram_replication_obs_diff, <span class="at">direction =</span> <span class="st">"___"</span>)</span>
<span id="cb145-13"><a href="lab6.html#cb145-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-14"><a href="lab6.html#cb145-14" aria-hidden="true" tabindex="-1"></a>milgram_replication_null_dist <span class="sc">%&gt;%</span></span>
<span id="cb145-15"><a href="lab6.html#cb145-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visualize</span>() <span class="sc">+</span></span>
<span id="cb145-16"><a href="lab6.html#cb145-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">shade_p_value</span>(<span class="at">obs_stat =</span> milgram_replication_obs_diff, <span class="at">direction =</span> <span class="st">"___"</span>)</span></code></pre></div>
<p>Based on the results you obtained, would you reject the null hypothesis? (You can check out the <span class="math inline">\(p\)</span> value by clicking on <code>milgram_replication_p_value</code> in R’s <strong>Environment</strong> window after running your code.) What does the result of this hypothesis test say about whether men and women differ in their tendency to obey commands that potentially endanger someone’s life?</p>
</div>
</div>
</div>
<div id="wrap-up-4" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Wrap-up<a class="anchor" aria-label="anchor" href="#wrap-up-4"><i class="fas fa-link"></i></a>
</h2>
<p>In this session, we got practice using R to construct confidence intervals using bootstrapping. We used R to generate many “resampled” dataset to simulate the kinds of samples we could have seen due to sampling variability. This allows us say what values of the population parameter are plausible given a sample from that population.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="lab5.html"><span class="header-section-number">5</span> Hypothesis testing with randomization</a></div>
<div class="next"><a href="lab7.html"><span class="header-section-number">7</span> The normal distribution</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#lab6"><span class="header-section-number">6</span> Confidence intervals with bootstrapping</a></li>
<li>
<a class="nav-link" href="#what-is-kobes-field-goal-percentage"><span class="header-section-number">6.1</span> What is Kobe’s field goal percentage?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#what-is-the-point-estimate"><span class="header-section-number">6.1.1</span> What is the point estimate?</a></li>
<li><a class="nav-link" href="#model-the-randomness"><span class="header-section-number">6.1.2</span> Model the randomness</a></li>
<li><a class="nav-link" href="#create-the-interval"><span class="header-section-number">6.1.3</span> Create the interval</a></li>
<li><a class="nav-link" href="#form-a-conclusion-2"><span class="header-section-number">6.1.4</span> Form a conclusion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#how-willing-are-people-to-obey-commands-that-endanger-someones-life"><span class="header-section-number">6.2</span> How willing are people to obey commands that endanger someone’s life?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#milgrams-original-study"><span class="header-section-number">6.2.1</span> Milgram’s original study</a></li>
<li><a class="nav-link" href="#a-more-recent-replication"><span class="header-section-number">6.2.2</span> A more recent replication</a></li>
<li><a class="nav-link" href="#do-men-and-women-differ-in-their-proportions-of-obedience"><span class="header-section-number">6.2.3</span> Do men and women differ in their proportions of obedience?</a></li>
</ul>
</li>
<li><a class="nav-link" href="#wrap-up-4"><span class="header-section-number">6.3</span> Wrap-up</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/gregcox7/StatLabs/blob/master/06-bootstrapping.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/gregcox7/StatLabs/edit/master/06-bootstrapping.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Labs</strong>" was written by Greg Cox. It was last built on 2023-01-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
