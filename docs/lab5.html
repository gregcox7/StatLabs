<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Lab 5 Hypothesis testing with randomization | Labs</title>
<meta name="author" content="Greg Cox">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.14/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="css/ims-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Labs</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="" href="lab1.html"><span class="header-section-number">1</span> Exploring data with R</a></li>
<li><a class="" href="lab2.html"><span class="header-section-number">2</span> Sampling</a></li>
<li><a class="" href="lab3.html"><span class="header-section-number">3</span> Describing data</a></li>
<li><a class="" href="lab4.html"><span class="header-section-number">4</span> Relationships between numerical variables</a></li>
<li><a class="active" href="lab5.html"><span class="header-section-number">5</span> Hypothesis testing with randomization</a></li>
<li><a class="" href="lab6.html"><span class="header-section-number">6</span> Confidence intervals with bootstrapping</a></li>
<li><a class="" href="lab7.html"><span class="header-section-number">7</span> The normal distribution</a></li>
<li><a class="" href="lab8.html"><span class="header-section-number">8</span> Inference for proportions</a></li>
<li><a class="" href="lab9.html"><span class="header-section-number">9</span> Inference about a mean</a></li>
<li><a class="" href="lab10.html"><span class="header-section-number">10</span> Inference for comparing two independent means</a></li>
<li><a class="" href="lab12.html"><span class="header-section-number">11</span> Inference for multiple independent groups</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/gregcox7/StatLabs">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="lab5" class="section level1" number="5">
<h1>
<span class="header-section-number">Lab 5</span> Hypothesis testing with randomization<a class="anchor" aria-label="anchor" href="#lab5"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="img/kobe.png" width="100%"></div>
<p>In this session, we will get some initial practice in testing hypotheses by randomization. While this practice will not cover all the nuances of hypothesis testing in statistics, it will touch on many of the key ideas that we will see in different forms throughout the rest of the course.</p>
<p>In the first part, we will get a sense of how <strong>permutation</strong> works, and how it helps us to simulate what a sample might look like if the null hypothesis were true. Permutation is one way that we can use “randomization” to test a null hypothesis. In the second part, we will use permutation to test a more serious hypotheses about how different types of people might make decisions differently.</p>
<p>Generally, hypothesis testing requires us to follow a set of steps that we can outline like this:</p>
<ol style="list-style-type: decimal">
<li>Translate the research question into null and alternative hypotheses, framed in terms of population parameters</li>
<li>Use the data from the sample to calculate summary statistics corresponding to those population parameters</li>
<li>Model what those summary statistics <em>could have</em> been if the null hypothesis were true</li>
<li>Find the <span class="math inline">\(p\)</span> value</li>
<li>Form a conclusion</li>
</ol>
<p>To help you work on the exercises for this activity, be sure to <a href="https://raw.githubusercontent.com/gregcox7/StatLabs/main/worksheets/ws_lab05.Rmd">download the worksheet</a> and open it in RStudio.</p>
<div id="did-kobe-have-a-hot-hand" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Did Kobe have a hot hand?<a class="anchor" aria-label="anchor" href="#did-kobe-have-a-hot-hand"><i class="fas fa-link"></i></a>
</h2>
<p>To get a handle on some of the big ideas in hypothesis testing in general, and of permutation in particular, let’s first look at a very special dataset. These data pertain to Kobe Bryant of the LA Lakers playing against the Orlando Magic in the 2009 NBA finals. Commentators at the time remarked that Kobe seemed to have a “hot hand”. In other words, they were claiming that once Kobe made a basket, he was <em>more likely</em> to make a basket on his next shot.</p>
<div id="check-out-the-data" class="section level3" number="5.1.1">
<h3>
<span class="header-section-number">5.1.1</span> Check out the data<a class="anchor" aria-label="anchor" href="#check-out-the-data"><i class="fas fa-link"></i></a>
</h3>
<p>We have loaded into R a dataset called <code>kobe</code> that consists of every shooting attempt Kobe made during that game, including whether or not it went in (i.e., was the shot a “Hit” or a “Miss”). Here’s the first few rows:</p>
<div class="inline-table"><table style="width:100%;" class="table table-sm">
<colgroup>
<col width="4%">
<col width="5%">
<col width="8%">
<col width="9%">
<col width="57%">
<col width="5%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left">vs</th>
<th align="right">game</th>
<th align="left">quarter</th>
<th align="left">time</th>
<th align="left">description</th>
<th align="left">shot</th>
<th align="left">prev_shot</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ORL</td>
<td align="right">1</td>
<td align="left">1</td>
<td align="left">09:07:00</td>
<td align="left">Kobe Bryant misses jumper</td>
<td align="left">M</td>
<td align="left">prev_H</td>
</tr>
<tr class="even">
<td align="left">ORL</td>
<td align="right">1</td>
<td align="left">1</td>
<td align="left">08:11:00</td>
<td align="left">Kobe Bryant misses 7-foot jumper</td>
<td align="left">M</td>
<td align="left">prev_M</td>
</tr>
<tr class="odd">
<td align="left">ORL</td>
<td align="right">1</td>
<td align="left">1</td>
<td align="left">07:41:00</td>
<td align="left">Kobe Bryant makes 16-foot jumper (Derek Fisher assists)</td>
<td align="left">H</td>
<td align="left">prev_M</td>
</tr>
<tr class="even">
<td align="left">ORL</td>
<td align="right">1</td>
<td align="left">1</td>
<td align="left">07:03:00</td>
<td align="left">Kobe Bryant makes driving layup</td>
<td align="left">H</td>
<td align="left">prev_H</td>
</tr>
<tr class="odd">
<td align="left">ORL</td>
<td align="right">1</td>
<td align="left">1</td>
<td align="left">06:01:00</td>
<td align="left">Kobe Bryant misses jumper</td>
<td align="left">M</td>
<td align="left">prev_H</td>
</tr>
<tr class="even">
<td align="left">ORL</td>
<td align="right">1</td>
<td align="left">1</td>
<td align="left">04:07:00</td>
<td align="left">Kobe Bryant misses 12-foot jumper</td>
<td align="left">M</td>
<td align="left">prev_M</td>
</tr>
</tbody>
</table></div>
</div>
<div id="framing-the-hypotheses" class="section level3" number="5.1.2">
<h3>
<span class="header-section-number">5.1.2</span> Framing the hypotheses<a class="anchor" aria-label="anchor" href="#framing-the-hypotheses"><i class="fas fa-link"></i></a>
</h3>
<p>We can translate the claim of the hot hand into a <strong>null hypothesis</strong> and an <strong>alternative hypothesis</strong>. For us to believe the “hot hand” claim, we first have to rule out the possibility that Kobe’s hit proportion is the same regardless of whether his previous shot went in or not. This possibility is the <strong>null hypothesis</strong>. The <strong>alternative hypothesis</strong> is that Kobe really had a hot hand and he made a greater proportion of hits after having already made a hit than after missing.</p>
</div>
<div id="summarize-the-data" class="section level3" number="5.1.3">
<h3>
<span class="header-section-number">5.1.3</span> Summarize the data<a class="anchor" aria-label="anchor" href="#summarize-the-data"><i class="fas fa-link"></i></a>
</h3>
<p>Now that we’ve framed our hypotheses, let’s see whether our data suggest that we could reject the null hypothesis. We’ve already seen how to do this using a frequency table, like this:</p>
<div class="sourceCode" id="cb111"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">group_by</span><span class="op">(</span><span class="va">prev_shot</span>, <span class="va">shot</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>n <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>p <span class="op">=</span> <span class="va">n</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-info"><code>## `summarise()` has grouped output by 'prev_shot'. You can override using the
## `.groups` argument.</code></pre>
<pre class="Rout text-muted"><code>## # A tibble: 4 × 4
## # Groups:   prev_shot [2]
##   prev_shot shot      n     p
##   &lt;chr&gt;     &lt;chr&gt; &lt;int&gt; &lt;dbl&gt;
## 1 prev_H    H        18 0.36 
## 2 prev_H    M        32 0.64 
## 3 prev_M    H        25 0.410
## 4 prev_M    M        36 0.590</code></pre>
<p>Here, <code>prev_shot</code> refers to whether Kobe’s <code>prev</code>ious shot was a hit (“prev_H”) or a miss (“prev_M”). The final column <code>p</code> gives us the proportions of Hits (“H”) or Misses (“M”) following either a Previous Hit or Previous Miss.</p>
<p>We could use the proportions in the final column to calculate by hand the difference between the proportion of Kobe’s made shots (<code>H</code>its) following either a hit (<code>prev_H</code>) or a miss (<code>prev_M</code>). But we can use R to do this work for us using a chunk like this one:</p>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"diff in props"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"prev_H"</span>, <span class="st">"prev_M"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## Response: shot (factor)
## Explanatory: prev_shot (factor)
## # A tibble: 1 × 1
##      stat
##     &lt;dbl&gt;
## 1 -0.0498</code></pre>
<p>The chunk works like this:</p>
<ol style="list-style-type: decimal">
<li>Tell R the name of the dataset we are working with (<code>kobe</code>).</li>
<li>We <code>specify</code> which variable is the <strong>explanatory variable</strong> (<code>prev_shot</code>) and which variable is the <strong>response variable</strong> (<code>shot</code>). We do this using the same squiggly thing we used for linear regression (<code>[response variable] ~ [explanatory variable]</code>). Because the response variable is a binary (i.e., two-level) categorical variable, we also need to tell R that a “success” is a Hit (abbreviated “H”).</li>
<li>Tell R to <code>calculate</code> a particular summary <code>stat</code>istic. By saying <code>stat = "diff in props"</code> we are telling R that we want to calculate a <code>diff</code>erence in <code>prop</code>ortion<code>s</code>. Because we already told R that our response variable is <code>shot</code> and a success is a <code>H</code>it, R knows that we want to calculate a difference in the proportion of shots that were hits. By saying <code>order = c("prev_H", "prev_M")</code>, we tell R that we want that difference calculated in a specific order. In math shorthand, we could write it <span class="math inline">\(\hat{p}_{\text{Prev. H}} - \hat{p}_{\text{Prev. M}}\)</span>.</li>
</ol>
<p>This may seem like a lot, but remember that computers needs to be told <em>everything</em> in detail. We can’t trust a computer to figure out anything on its own (yet?). Moreover, we will see that these lines of code can be “remixed” in various ways that will be very convenient for us as we go.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-28" class="exercise"><strong>Exercise 5.1  </strong></span>–</p>
<ol style="list-style-type: lower-alpha">
<li>The following chunk of code changes the <code>success</code> setting from <code>"H"</code> to <code>"M"</code>. In your own words, describe what the number means that we get from this code.</li>
</ol>
<div class="sourceCode" id="cb116"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"M"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"diff in props"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"prev_H"</span>, <span class="st">"prev_M"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## Response: shot (factor)
## Explanatory: prev_shot (factor)
## # A tibble: 1 × 1
##     stat
##    &lt;dbl&gt;
## 1 0.0498</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li>The following chunk of code changes the <code>order</code> setting, but puts the <code>success</code> setting back to <code>"H"</code>. In your own words, describe what the number means that we get from this code (it is different from the one in part [a] of this exercise!).</li>
</ol>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"diff in props"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"prev_M"</span>, <span class="st">"prev_H"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## Response: shot (factor)
## Explanatory: prev_shot (factor)
## # A tibble: 1 × 1
##     stat
##    &lt;dbl&gt;
## 1 0.0498</code></pre>
</div>
</div>
<div id="simulating-a-possible-dataset-if-the-null-were-true" class="section level3" number="5.1.4">
<h3>
<span class="header-section-number">5.1.4</span> Simulating a possible dataset if the null were true<a class="anchor" aria-label="anchor" href="#simulating-a-possible-dataset-if-the-null-were-true"><i class="fas fa-link"></i></a>
</h3>
<p>If the null hypothesis were true, whether Kobe does or does not make a shot should not depend on whether he did or did not make his previous shot. We can <em>model</em> what Kobe’s performance would look like if this null hypothesis were true. To do this, we treat Kobe’s shooting history as if it were random. If the null hypothesis were true, we should be able to randomly <strong>permute</strong> Kobe’s shooting history <em>without changing the overall relationship between Kobe’s previous shots and his current shot</em>. By “overall relationship”, we mean the <em>difference in proportions</em> that we just calculated. If the null hypothesis were true, the difference in proportions from our permuted data should not be <em>too different</em> from the difference in proportions in our actual data. On the other hand, if the null hypothesis were false, the difference in proportions in the permuted data should be very different from what we actually saw.</p>
<p>We can use R to permute Kobe’s shot history and thereby model how Kobe’s shots <em>might</em> have gone if the null hypothesis were true. To do this, we need to <code>specify</code> the relevant variables as well as the <code>hypothesis</code>. Let’s see that all at once, then unpack it:</p>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">hypothesize</span><span class="op">(</span>null <span class="op">=</span> <span class="st">"independence"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">generate</span><span class="op">(</span>reps <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"permute"</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## Response: shot (factor)
## Explanatory: prev_shot (factor)
## Null Hypothesis: independence
## # A tibble: 111 × 3
## # Groups:   replicate [1]
##    shot  prev_shot replicate
##    &lt;fct&gt; &lt;fct&gt;         &lt;int&gt;
##  1 M     prev_H            1
##  2 M     prev_M            1
##  3 H     prev_M            1
##  4 M     prev_H            1
##  5 M     prev_H            1
##  6 M     prev_M            1
##  7 H     prev_M            1
##  8 M     prev_M            1
##  9 M     prev_H            1
## 10 M     prev_H            1
## # … with 101 more rows</code></pre>
<p>The first and second lines are just like what we used already.</p>
<p>The third line is how we tell R what our null hypothesis is, namely, that the explanatory and response variables are <strong>independent</strong> (not associated).</p>
<p>Finally, the fourth line <code>generate</code>s a simulated dataset by randomly <code>permut</code>ing—that is, <em>shuffling</em>—the columns of the original data containing the explanatory and response variables. We’ll see the function of the <code>reps = 1</code> setting momentarily.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-29" class="exercise"><strong>Exercise 5.2  </strong></span>The following chunk of code simulates one way that Kobe’s shots could have gone <em>if</em> the null hypothesis (that his previous shot and current shot are <em>independent</em>) were true. The fifth line (the same as the last line in one of the chunks above) calculates the difference in proportions based on the <em>simulated</em> data.</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">hypothesize</span><span class="op">(</span>null <span class="op">=</span> <span class="st">"independence"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">generate</span><span class="op">(</span>reps <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"permute"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"diff in props"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"prev_H"</span>, <span class="st">"prev_M"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>In your own words, describe why the difference in proportions from the simulated data is different from the actual data.</p>
</div>
</div>
<div id="simulating-many-possible-datasets-if-the-null-were-true" class="section level3" number="5.1.5">
<h3>
<span class="header-section-number">5.1.5</span> Simulating many possible datasets if the null were true<a class="anchor" aria-label="anchor" href="#simulating-many-possible-datasets-if-the-null-were-true"><i class="fas fa-link"></i></a>
</h3>
<p>All we did was simulate <em>one</em> possible way Kobe’s shots could have turned out if the null hypothesis were true. There are many possible ways Kobe’s shots could have turned out, and each of these corresponds to a different random permutation of Kobe’s shot history. What we need to do is keep track of all the differences in proportions we get from each of those permutations. It’s a good thing that computers are good at repetitive tasks, because we can use the computer to repeat the random permutation process many times to simulated many possible datasets.</p>
<p>The next chunk of code is the same as before except we have changed <code>reps</code> in the <code>generate</code> line from <code>1</code> to <code>1000</code>. This way, we can simulate 1000 different datasets, each of which is a different random permutation of Kobe’s shot history. We tell R to remember these all under the name <code>kobe_null_distribution</code> because this represents the <code>distribution</code> of differences that we would expect to see if the <code>null</code> hypothesis were true.</p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_null_distribution</span> <span class="op">&lt;-</span> <span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">hypothesize</span><span class="op">(</span>null <span class="op">=</span> <span class="st">"independence"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">generate</span><span class="op">(</span>reps <span class="op">=</span> <span class="fl">1000</span>, type <span class="op">=</span> <span class="st">"permute"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"diff in props"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"prev_H"</span>, <span class="st">"prev_M"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The first few rows of the result look like this:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="right">replicate</th>
<th align="right">stat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">-0.0134426</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">0.0593443</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">-0.0862295</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">0.0229508</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">0.0229508</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">-0.0134426</td>
</tr>
</tbody>
</table></div>
<p>The “replicate” column is a label for each simulated dataset, and the new “stat” column is the difference <span class="math inline">\(\hat{p}_{\text{Prev. H}} - \hat{p}_{\text{Prev. M}}\)</span> <em>for each simulated dataset</em>.</p>
<p>We can now make a histogram to examine the <em>distribution of differences in proportions that result when the null hypothesis is true</em>:</p>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_null_distribution</span> <span class="op">%&gt;%</span>
    <span class="fu">visualize</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="05-randomization_files/figure-html/unnamed-chunk-10-1.png" width="672"></div>
</div>
<div id="find-the-p-value" class="section level3" number="5.1.6">
<h3>
<span class="header-section-number">5.1.6</span> Find the <span class="math inline">\(p\)</span> value<a class="anchor" aria-label="anchor" href="#find-the-p-value"><i class="fas fa-link"></i></a>
</h3>
<p>Remember that the <span class="math inline">\(p\)</span> value is the proportion of simulated datasets which are <em>at least as extreme</em> as our actual data. In this case, that means the proportion of simulated datasets with a difference in proportions that is <em>bigger</em> than what we observed. Let’s tell R to remember that difference by running the chunk of code below:</p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_obs_diff</span> <span class="op">&lt;-</span> <span class="va">kobe</span> <span class="op">%&gt;%</span>
    <span class="fu">specify</span><span class="op">(</span><span class="va">shot</span> <span class="op">~</span> <span class="va">prev_shot</span>, success <span class="op">=</span> <span class="st">"H"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">calculate</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"diff in props"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"prev_H"</span>, <span class="st">"prev_M"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Now, let’s see how many simulated datasets were bigger than this. In the following line of code, we have to tell R that the observed “statistic” (<code>obs_stat</code>) is the difference we just told it to remember (<code>kobe_obs_diff</code>) as well as the fact that we are interested in how many simulations produced results that were “greater” than what was observed:</p>
<div class="sourceCode" id="cb126"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_null_distribution</span> <span class="op">%&gt;%</span>
    <span class="fu">get_p_value</span><span class="op">(</span>obs_stat <span class="op">=</span> <span class="va">kobe_obs_diff</span>, direction <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span></code></pre></div>
<pre class="Rout text-muted"><code>## # A tibble: 1 × 1
##   p_value
##     &lt;dbl&gt;
## 1   0.757</code></pre>
<p>Finally, it will help to visualize where the observed difference falls relative to the distribution of differences from our simulated data (note that this uses <code>shade_p_value</code> rather than <code>get_p_value</code>):</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kobe_null_distribution</span> <span class="op">%&gt;%</span>
    <span class="fu">visualize</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">shade_p_value</span><span class="op">(</span>obs_stat <span class="op">=</span> <span class="va">kobe_obs_diff</span>, direction <span class="op">=</span> <span class="st">"greater"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="05-randomization_files/figure-html/unnamed-chunk-13-1.png" width="672"></div>
<p>The red line is the value that was actually observed and the parts of the histogram that are shaded pink represent the simulated datasets that were “more extreme” than what was observed.</p>
</div>
<div id="form-a-conclusion" class="section level3" number="5.1.7">
<h3>
<span class="header-section-number">5.1.7</span> Form a conclusion<a class="anchor" aria-label="anchor" href="#form-a-conclusion"><i class="fas fa-link"></i></a>
</h3>
<p>Remember that we were testing the <strong>null hypothesis</strong> that Kobe did <em>not</em> have a hot hand. We only reject the null hypothesis if our data would be very unlikely if the null hypothesis were true, i.e., if the <span class="math inline">\(p\)</span> value is low. Assume we adopt a <strong>significance level</strong> of 0.05, so we would reject the null hypothesis if the <span class="math inline">\(p\)</span> value were less than this level.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-30" class="exercise"><strong>Exercise 5.3  </strong></span>Do you reject the null hypothesis that Kobe’s previous shot has no influence on his current shot? Explain your reasoning. What does your conclusion say about whether or not Kobe had a “hot hand”?</p>
</div>
</div>
</div>
<div id="do-people-on-the-autism-spectrum-make-more-consistent-choices" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Do people on the autism spectrum make more consistent choices?<a class="anchor" aria-label="anchor" href="#do-people-on-the-autism-spectrum-make-more-consistent-choices"><i class="fas fa-link"></i></a>
</h2>
<p>The kind of hypothesis testing we just did for the fun case of Kobe’s hot hand is the same as what we use to answer more serious research questions.</p>
<p>Autism is a condition that has many facets. Individuals with autism who do not have any cognitive impairments often have different cognitive “styles”. In particular, it is thought that people with autism are more “detail-oriented”. This can be a detriment when trying to find a general pattern, but it might be a benefit in situations where there are many irrelevant distractions.</p>
<p>This potential benefit was studied by <span class="citation">Farmer et al. (<a href="references.html#ref-FarmerEtAl2017" role="doc-biblioref">2017</a>)</span>. Their experiment included a group of participants diagnosed as being on the autism spectrum (with no cognitive impairments) as well as a group of neuro-typical controls. They looked at participants’ choices between pairs of consumer products that were presented alongside a third, less desirable “decoy” option. A “rational” choice should not be affected by the presence of this decoy, but in fact people are often swayed by those irrelevant options. Might people with autism make choices that are more consistent—more “rational”—because they ignore the irrelevant decoy?</p>
<p>For the rest of the lab, you will conduct a hypothesis test to address this question. It will follow the same basic outline as the procedure we followed to address the “hot hand” question, so be sure to refer to the previous section for guidance.</p>
<div id="check-out-the-data-1" class="section level3" number="5.2.1">
<h3>
<span class="header-section-number">5.2.1</span> Check out the data<a class="anchor" aria-label="anchor" href="#check-out-the-data-1"><i class="fas fa-link"></i></a>
</h3>
<p>The relevant data are stored in R under the name <code>asc_choice</code>. Here’s what the first few rows look like.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="14%">
<col width="8%">
<col width="11%">
<col width="7%">
<col width="11%">
<col width="5%">
<col width="10%">
<col width="14%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">Pcp</th>
<th align="left">Group</th>
<th align="left">Product</th>
<th align="right">ICAR</th>
<th align="right">AQScore</th>
<th align="right">Age</th>
<th align="left">Gender</th>
<th align="left">Residence</th>
<th align="left">Choice</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">07614cqm3</td>
<td align="left">ASC</td>
<td align="left">job</td>
<td align="right">9</td>
<td align="right">97</td>
<td align="right">30</td>
<td align="left">Female</td>
<td align="left">UK</td>
<td align="left">Consistent</td>
</tr>
<tr class="even">
<td align="left">0kp6uu5yk</td>
<td align="left">ASC</td>
<td align="left">job</td>
<td align="right">12</td>
<td align="right">86</td>
<td align="right">71</td>
<td align="left">Male</td>
<td align="left">UK</td>
<td align="left">Consistent</td>
</tr>
<tr class="odd">
<td align="left">0xwjyez37</td>
<td align="left">ASC</td>
<td align="left">job</td>
<td align="right">4</td>
<td align="right">79</td>
<td align="right">38</td>
<td align="left">Female</td>
<td align="left">UK</td>
<td align="left">Consistent</td>
</tr>
<tr class="even">
<td align="left">19b8mj7zo</td>
<td align="left">ASC</td>
<td align="left">job</td>
<td align="right">16</td>
<td align="right">104</td>
<td align="right">45</td>
<td align="left">Female</td>
<td align="left">UK</td>
<td align="left">Consistent</td>
</tr>
<tr class="odd">
<td align="left">1dez096ol</td>
<td align="left">ASC</td>
<td align="left">job</td>
<td align="right">9</td>
<td align="right">96</td>
<td align="right">48</td>
<td align="left">Female</td>
<td align="left">UK</td>
<td align="left">Consistent</td>
</tr>
<tr class="even">
<td align="left">1xn153mwi</td>
<td align="left">ASC</td>
<td align="left">job</td>
<td align="right">13</td>
<td align="right">105</td>
<td align="right">41</td>
<td align="left">Female</td>
<td align="left">US</td>
<td align="left">Consistent</td>
</tr>
</tbody>
</table></div>
<p>The <strong>response variable</strong> is <code>Choice</code>, which is either “Consistent” (if the participant’s choice was not affected by the decoy) or “Inconsistent” (if the participant’s choice was affected by the decoy).</p>
<p>The <strong>explanatory variable</strong> is <code>Group</code>, which is either “ASC” (for “Autism Spectrum Condition”) or “NT” (for “Neuro-Typical” control).</p>
</div>
<div id="framing-the-hypotheses-1" class="section level3" number="5.2.2">
<h3>
<span class="header-section-number">5.2.2</span> Framing the hypotheses<a class="anchor" aria-label="anchor" href="#framing-the-hypotheses-1"><i class="fas fa-link"></i></a>
</h3>
<div class="exercise">
<p><span id="exr:unlabeled-div-31" class="exercise"><strong>Exercise 5.4  </strong></span>Our <strong>research question</strong> is, “is the proportion of consistent choices <em>higher</em> for participants from the ASC group than those from the NT group?” What are the <strong>null hypothesis</strong> and <strong>alternative hypothesis</strong> that correspond to this research question?</p>
</div>
</div>
<div id="summarize-the-data-1" class="section level3" number="5.2.3">
<h3>
<span class="header-section-number">5.2.3</span> Summarize the data<a class="anchor" aria-label="anchor" href="#summarize-the-data-1"><i class="fas fa-link"></i></a>
</h3>
<div class="exercise">
<p><span id="exr:unlabeled-div-32" class="exercise"><strong>Exercise 5.5  </strong></span>Find the difference in proportions of consistent choices between the autism spectrum group (ASC) and neuro-typical control group (NT). For guidance, check out how we did it in the Kobe example above. Be sure to note:</p>
<ul>
<li>What is the name of the relevant dataset?</li>
<li>What are the names of the explanatory and response variables?</li>
<li>A “Consistent” choice counts as a “success”.</li>
<li>For the difference in proportions, we want to look at ASC minus NT.</li>
</ul>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="lab5.html#cb129-1" aria-hidden="true" tabindex="-1"></a>___ <span class="sc">%&gt;%</span></span>
<span id="cb129-2"><a href="lab5.html#cb129-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb129-3"><a href="lab5.html#cb129-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"___"</span>, <span class="st">"___"</span>))</span></code></pre></div>
<p>Is the difference you found more consistent with the null hypothesis or with the alternative hypothesis? Explain your reasoning.</p>
</div>
</div>
<div id="model-the-null-hypothesis" class="section level3" number="5.2.4">
<h3>
<span class="header-section-number">5.2.4</span> Model the null hypothesis<a class="anchor" aria-label="anchor" href="#model-the-null-hypothesis"><i class="fas fa-link"></i></a>
</h3>
<p>If the null hypothesis were true, a participant’s choice shouldn’t depend on which group they are in. In the Kobe example, we modeled the null hypothesis by randomly permuting Kobe’s shot history, since that was the explanatory variable. In this research scenario, group is the explanatory variable. So by randomly shuffling participants between groups, we can simulate how the data would look if the null hypothesis were true.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-33" class="exercise"><strong>Exercise 5.6  </strong></span>Fill in the blanks in the code below to simulate 1000 datasets assuming the null hypothesis were true, then produce a histogram (using the <code>visualize</code> function) of the resulting simulated differences in proportions. You’ll re-use a lot from the last exercise!</p>
<ul>
<li>What is the name of the relevant dataset?</li>
<li>What are the names of the explanatory and response variables?</li>
<li>A “Consistent” choice counts as a “success”.</li>
<li>We want to do <em>1000</em> simulations.</li>
<li>For the difference in proportions, we want to look at ASC minus NT.</li>
</ul>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="lab5.html#cb130-1" aria-hidden="true" tabindex="-1"></a>asc_null_distribution <span class="ot">&lt;-</span> ___ <span class="sc">%&gt;%</span></span>
<span id="cb130-2"><a href="lab5.html#cb130-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb130-3"><a href="lab5.html#cb130-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb130-4"><a href="lab5.html#cb130-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">generate</span>(<span class="at">reps =</span> ___, <span class="at">type =</span> <span class="st">"permute"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb130-5"><a href="lab5.html#cb130-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"___"</span>, <span class="st">"___"</span>))</span>
<span id="cb130-6"><a href="lab5.html#cb130-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-7"><a href="lab5.html#cb130-7" aria-hidden="true" tabindex="-1"></a>asc_null_distribution <span class="sc">%&gt;%</span></span>
<span id="cb130-8"><a href="lab5.html#cb130-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visualize</span>()</span></code></pre></div>
<p>Once your code is working correctly, try running it a few times.</p>
<ol style="list-style-type: lower-alpha">
<li>Explain in your own words why the histogram you get does not look the same each time you run the code.</li>
<li>Based just on looking at the histogram (no need to do any calculations), describe what aspects of the distribution seem to stay the same and which seem to differ each time you run your code. Note things like the shape of the distribution (number of modes and skewness), central tendency, and variability.</li>
</ol>
</div>
</div>
<div id="find-the-p-value-1" class="section level3" number="5.2.5">
<h3>
<span class="header-section-number">5.2.5</span> Find the <span class="math inline">\(p\)</span> value<a class="anchor" aria-label="anchor" href="#find-the-p-value-1"><i class="fas fa-link"></i></a>
</h3>
<p>To find the <span class="math inline">\(p\)</span> value, we first need to get the observed difference in proportions and tell R to remember it with the label <code>asc_obs_diff</code>.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-34" class="exercise"><strong>Exercise 5.7  </strong></span>Fill in the blanks below to find the observed difference in proportions in the actual data and tell R to remember it under the label <code>asc_obs_diff</code>. This value is then used to calculate the <span class="math inline">\(p\)</span> value. <em>Hint 1:</em> for the <code>direction</code>, remember that this should correspond to the alternative hypothesis (“less”, “greater”, or “two-sided”). <em>Hint 2:</em> be sure to reuse code from previous exercises!</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="lab5.html#cb131-1" aria-hidden="true" tabindex="-1"></a>asc_null_distribution <span class="ot">&lt;-</span> ___ <span class="sc">%&gt;%</span></span>
<span id="cb131-2"><a href="lab5.html#cb131-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb131-3"><a href="lab5.html#cb131-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb131-4"><a href="lab5.html#cb131-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">generate</span>(<span class="at">reps =</span> ___, <span class="at">type =</span> <span class="st">"permute"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb131-5"><a href="lab5.html#cb131-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"___"</span>, <span class="st">"___"</span>))</span>
<span id="cb131-6"><a href="lab5.html#cb131-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-7"><a href="lab5.html#cb131-7" aria-hidden="true" tabindex="-1"></a>asc_obs_diff <span class="ot">&lt;-</span> ___ <span class="sc">%&gt;%</span></span>
<span id="cb131-8"><a href="lab5.html#cb131-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb131-9"><a href="lab5.html#cb131-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"___"</span>, <span class="st">"___"</span>))</span>
<span id="cb131-10"><a href="lab5.html#cb131-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-11"><a href="lab5.html#cb131-11" aria-hidden="true" tabindex="-1"></a>asc_null_distribution <span class="sc">%&gt;%</span></span>
<span id="cb131-12"><a href="lab5.html#cb131-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">get_p_value</span>(<span class="at">obs_stat =</span> asc_obs_diff, <span class="at">direction =</span> <span class="st">"___"</span>)</span></code></pre></div>
<p>What was the <span class="math inline">\(p\)</span> value you got?</p>
</div>
</div>
<div id="form-a-conclusion-1" class="section level3" number="5.2.6">
<h3>
<span class="header-section-number">5.2.6</span> Form a conclusion<a class="anchor" aria-label="anchor" href="#form-a-conclusion-1"><i class="fas fa-link"></i></a>
</h3>
<p>Finally, we are in a position to visualize where the observed difference in proportions falls relative to the differences that would be expected if the null hypothesis were true. This will enable us to form a conclusion about what these data tell us about our research question.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-35" class="exercise"><strong>Exercise 5.8  </strong></span>Fill in the blanks in the code below to visualize where the observed difference in proportions falls on the distribution of differences that would be expected if the null hypothesis were true (<em>hint:</em> look back at previous exercises, you’ll be able to re-use a lot!)</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="lab5.html#cb132-1" aria-hidden="true" tabindex="-1"></a>asc_null_distribution <span class="ot">&lt;-</span> ___ <span class="sc">%&gt;%</span></span>
<span id="cb132-2"><a href="lab5.html#cb132-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb132-3"><a href="lab5.html#cb132-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hypothesize</span>(<span class="at">null =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb132-4"><a href="lab5.html#cb132-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">generate</span>(<span class="at">reps =</span> ___, <span class="at">type =</span> <span class="st">"permute"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb132-5"><a href="lab5.html#cb132-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"___"</span>, <span class="st">"___"</span>))</span>
<span id="cb132-6"><a href="lab5.html#cb132-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-7"><a href="lab5.html#cb132-7" aria-hidden="true" tabindex="-1"></a>asc_obs_diff <span class="ot">&lt;-</span> ___ <span class="sc">%&gt;%</span></span>
<span id="cb132-8"><a href="lab5.html#cb132-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">specify</span>(___ <span class="sc">~</span> ___, <span class="at">success =</span> <span class="st">"___"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb132-9"><a href="lab5.html#cb132-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"___"</span>, <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"___"</span>, <span class="st">"___"</span>))</span>
<span id="cb132-10"><a href="lab5.html#cb132-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-11"><a href="lab5.html#cb132-11" aria-hidden="true" tabindex="-1"></a>asc_null_distribution <span class="sc">%&gt;%</span></span>
<span id="cb132-12"><a href="lab5.html#cb132-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">visualize</span>() <span class="sc">+</span></span>
<span id="cb132-13"><a href="lab5.html#cb132-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">shade_p_value</span>(<span class="at">obs_stat =</span> asc_obs_diff, <span class="at">direction =</span> <span class="st">"___"</span>)</span></code></pre></div>
<p>Based on your analysis, would you reject the null hypothesis? Explain your reasoning, being sure to state a reasonable <em>significance level</em>. What does your conclusion say about whether participants with a diagnosis of autism made more consistent choices than neuro-typical participants?</p>
</div>
</div>
</div>
<div id="wrap-up-4" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Wrap-up<a class="anchor" aria-label="anchor" href="#wrap-up-4"><i class="fas fa-link"></i></a>
</h2>
<p>In this session, we got practice using R to perform hypothesis tests using randomization. Specifically, we used a type of shuffling called permutation. Shuffling allows us to simulate various ways that a particular dataset could look like if the null hypothesis were true. We then found the <span class="math inline">\(p\)</span> value and visualized the null distribution in order to get a sense of whether our actual data would be unlikely if the null hypothesis were true.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="lab4.html"><span class="header-section-number">4</span> Relationships between numerical variables</a></div>
<div class="next"><a href="lab6.html"><span class="header-section-number">6</span> Confidence intervals with bootstrapping</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#lab5"><span class="header-section-number">5</span> Hypothesis testing with randomization</a></li>
<li>
<a class="nav-link" href="#did-kobe-have-a-hot-hand"><span class="header-section-number">5.1</span> Did Kobe have a hot hand?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#check-out-the-data"><span class="header-section-number">5.1.1</span> Check out the data</a></li>
<li><a class="nav-link" href="#framing-the-hypotheses"><span class="header-section-number">5.1.2</span> Framing the hypotheses</a></li>
<li><a class="nav-link" href="#summarize-the-data"><span class="header-section-number">5.1.3</span> Summarize the data</a></li>
<li><a class="nav-link" href="#simulating-a-possible-dataset-if-the-null-were-true"><span class="header-section-number">5.1.4</span> Simulating a possible dataset if the null were true</a></li>
<li><a class="nav-link" href="#simulating-many-possible-datasets-if-the-null-were-true"><span class="header-section-number">5.1.5</span> Simulating many possible datasets if the null were true</a></li>
<li><a class="nav-link" href="#find-the-p-value"><span class="header-section-number">5.1.6</span> Find the \(p\) value</a></li>
<li><a class="nav-link" href="#form-a-conclusion"><span class="header-section-number">5.1.7</span> Form a conclusion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#do-people-on-the-autism-spectrum-make-more-consistent-choices"><span class="header-section-number">5.2</span> Do people on the autism spectrum make more consistent choices?</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#check-out-the-data-1"><span class="header-section-number">5.2.1</span> Check out the data</a></li>
<li><a class="nav-link" href="#framing-the-hypotheses-1"><span class="header-section-number">5.2.2</span> Framing the hypotheses</a></li>
<li><a class="nav-link" href="#summarize-the-data-1"><span class="header-section-number">5.2.3</span> Summarize the data</a></li>
<li><a class="nav-link" href="#model-the-null-hypothesis"><span class="header-section-number">5.2.4</span> Model the null hypothesis</a></li>
<li><a class="nav-link" href="#find-the-p-value-1"><span class="header-section-number">5.2.5</span> Find the \(p\) value</a></li>
<li><a class="nav-link" href="#form-a-conclusion-1"><span class="header-section-number">5.2.6</span> Form a conclusion</a></li>
</ul>
</li>
<li><a class="nav-link" href="#wrap-up-4"><span class="header-section-number">5.3</span> Wrap-up</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/gregcox7/StatLabs/blob/master/05-randomization.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/gregcox7/StatLabs/edit/master/05-randomization.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Labs</strong>" was written by Greg Cox. It was last built on 2022-11-01.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
